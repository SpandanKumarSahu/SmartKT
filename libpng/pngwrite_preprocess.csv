14,include,"""pngpriv.h""",
15,ifdef,PNG_SIMPLIFIED_WRITE_STDIO_SUPPORTED,
16,,#  include <errno.h>,
17,endif,,/* SIMPLIFIED_WRITE_STDIO */
19,ifdef,PNG_WRITE_SUPPORTED,
21,ifdef,PNG_WRITE_UNKNOWN_CHUNKS_SUPPORTED,
41,ifdef,PNG_SET_UNKNOWN_CHUNKS_SUPPORTED,
61,endif,,
72,endif,,/* WRITE_UNKNOWN_CHUNKS */
96,ifdef,PNG_MNG_FEATURES_SUPPORTED,
104,endif,,
110,ifdef,PNG_WRITE_INTERLACING_SUPPORTED,
112,else,,
114,endif,,
131,ifdef,PNG_GAMMA_SUPPORTED,
132,,#  ifdef PNG_WRITE_gAMA_SUPPORTED,
137,,#  endif,
138,endif,,
140,ifdef,PNG_COLORSPACE_SUPPORTED,
144,,#  ifdef PNG_WRITE_iCCP_SUPPORTED,
148,,#    ifdef PNG_WRITE_sRGB_SUPPORTED,
152,,#     endif,
157,,#     ifdef PNG_WRITE_sRGB_SUPPORTED,
159,,#     endif,
160,,#  endif,
162,,#  ifdef PNG_WRITE_sRGB_SUPPORTED,
166,,#  endif ,/* WRITE_sRGB */
167,endif,,/* COLORSPACE */
169,ifdef,PNG_WRITE_sBIT_SUPPORTED,
172,endif,,
174,ifdef,PNG_COLORSPACE_SUPPORTED,
175,,#  ifdef PNG_WRITE_cHRM_SUPPORTED,
180,,#  endif,
181,endif,,
183,ifdef,PNG_WRITE_UNKNOWN_CHUNKS_SUPPORTED,
185,endif,,
194,if,defined(PNG_WRITE_TEXT_SUPPORTED) || defined(PNG_WRITE_sPLT_SUPPORTED),
196,endif,,
212,ifdef,PNG_WRITE_tRNS_SUPPORTED,
215,ifdef,PNG_WRITE_INVERT_ALPHA_SUPPORTED,
230,endif,,
234,endif,,
235,ifdef,PNG_WRITE_bKGD_SUPPORTED,
238,endif,,
240,ifdef,PNG_WRITE_eXIf_SUPPORTED,
243,endif,,
245,ifdef,PNG_WRITE_hIST_SUPPORTED,
248,endif,,
250,ifdef,PNG_WRITE_oFFs_SUPPORTED,
254,endif,,
256,ifdef,PNG_WRITE_pCAL_SUPPORTED,
261,endif,,
263,ifdef,PNG_WRITE_sCAL_SUPPORTED,
267,endif,,/* sCAL */
269,ifdef,PNG_WRITE_pHYs_SUPPORTED,
273,endif,,/* pHYs */
275,ifdef,PNG_WRITE_tIME_SUPPORTED,
281,endif,,/* tIME */
283,ifdef,PNG_WRITE_sPLT_SUPPORTED,
287,endif,,/* sPLT */
289,ifdef,PNG_WRITE_TEXT_SUPPORTED,
298,ifdef,PNG_WRITE_iTXt_SUPPORTED,
311,else,,
313,endif,,
319,ifdef,PNG_WRITE_zTXt_SUPPORTED,
325,else,,
327,endif,,
332,ifdef,PNG_WRITE_tEXt_SUPPORTED,
339,else,,
342,endif,,
345,endif,,/* tEXt */
347,ifdef,PNG_WRITE_UNKNOWN_CHUNKS_SUPPORTED,
349,endif,,
368,ifdef,PNG_WRITE_CHECK_FOR_INVALID_INDEX_SUPPORTED,
371,endif,,
376,ifdef,PNG_WRITE_TEXT_SUPPORTED,
378,endif,,
379,ifdef,PNG_WRITE_tIME_SUPPORTED,
385,endif,,
386,ifdef,PNG_WRITE_TEXT_SUPPORTED,
395,ifdef,PNG_WRITE_iTXt_SUPPORTED,
408,else,,
410,endif,,
415,ifdef,PNG_WRITE_zTXt_SUPPORTED,
421,else,,
423,endif,,
428,ifdef,PNG_WRITE_tEXt_SUPPORTED,
434,else,,
436,endif,,
439,endif,,
441,ifdef,PNG_WRITE_eXIf_SUPPORTED,
444,endif,,
446,ifdef,PNG_WRITE_UNKNOWN_CHUNKS_SUPPORTED,
448,endif,,
463,ifdef,PNG_WRITE_FLUSH_SUPPORTED,
464,,#  ifdef PNG_WRITE_FLUSH_AFTER_IEND_SUPPORTED,
466,,#  endif,
467,endif,,
470,ifdef,PNG_CONVERT_tIME_SUPPORTED,
494,endif,,
501,ifndef,PNG_USER_MEM_SUPPORTED,
504,else,,
517,endif,,/* USER_MEM */
535,ifdef,PNG_WRITE_COMPRESSED_TEXT_SUPPORTED,
541,endif,,/* WRITE_COMPRESSED_TEXT */
548,ifdef,PNG_BENIGN_WRITE_ERRORS_SUPPORTED,
553,endif,,
558,if,PNG_RELEASE_BUILD,
560,endif,,
612,ifdef,PNG_WRITE_INTERLACING_SUPPORTED,
617,else,,
619,endif,,
631,ifdef,PNG_MNG_FEATURES_SUPPORTED,
663,ifdef,PNG_WRITE_16BIT_SUPPORTED,
691,endif,,/* WRITE_16BIT */
694,endif,,/* MNG_FEATURES */
718,if,!defined(PNG_WRITE_INVERT_SUPPORTED) && defined(PNG_READ_INVERT_SUPPORTED),
721,endif,,
723,if,!defined(PNG_WRITE_FILLER_SUPPORTED) && defined(PNG_READ_FILLER_SUPPORTED),
726,endif,,
727,if,!defined(PNG_WRITE_PACKSWAP_SUPPORTED) && defined(PNG_READ_PACKSWAP_SUPPORTED),
732,endif,,
734,if,!defined(PNG_WRITE_PACK_SUPPORTED) && defined(PNG_READ_PACK_SUPPORTED),
737,endif,,
739,if,!defined(PNG_WRITE_SHIFT_SUPPORTED) && defined(PNG_READ_SHIFT_SUPPORTED),
742,endif,,
744,if,!defined(PNG_WRITE_BGR_SUPPORTED) && defined(PNG_READ_BGR_SUPPORTED),
747,endif,,
749,if,!defined(PNG_WRITE_SWAP_SUPPORTED) && defined(PNG_READ_SWAP_SUPPORTED),
752,endif,,
757,ifdef,PNG_WRITE_INTERLACING_SUPPORTED,
824,endif,,
844,ifdef,PNG_WRITE_INTERLACING_SUPPORTED,
857,endif,,
859,ifdef,PNG_WRITE_TRANSFORMS_SUPPORTED,
863,endif,,
872,ifdef,PNG_MNG_FEATURES_SUPPORTED,
888,endif,,
891,ifdef,PNG_WRITE_CHECK_FOR_INVALID_INDEX_SUPPORTED,
896,endif,,
905,ifdef,PNG_WRITE_FLUSH_SUPPORTED,
935,endif,,/* WRITE_FLUSH */
951,ifdef,PNG_WRITE_FILTER_SUPPORTED,
958,endif,,
960,ifdef,PNG_SET_UNKNOWN_CHUNKS_SUPPORTED,
963,endif,,
1007,ifdef,PNG_MNG_FEATURES_SUPPORTED,
1012,endif,,
1017,ifdef,PNG_WRITE_FILTER_SUPPORTED,
1021,endif,,/* WRITE_FILTER */
1026,ifdef,PNG_WRITE_FILTER_SUPPORTED,
1041,else,,
1044,endif,,/* WRITE_FILTER */
1047,ifdef,PNG_WRITE_FILTER_SUPPORTED,
1119,endif,,
1125,ifdef,PNG_WRITE_WEIGHTED_FILTER_SUPPORTED ,/* DEPRECATED */
1127,ifdef,PNG_FLOATING_POINT_SUPPORTED,
1139,endif,,/* FLOATING_POINT */
1141,ifdef,PNG_FIXED_POINT_SUPPORTED,
1153,endif,,/* FIXED_POINT */
1154,endif,,/* WRITE_WEIGHTED_FILTER */
1156,ifdef,PNG_WRITE_CUSTOMIZE_COMPRESSION_SUPPORTED,
1239,endif,,/* WRITE_CUSTOMIZE_COMPRESSION */
1242,ifdef,PNG_WRITE_CUSTOMIZE_ZTXT_COMPRESSION_SUPPORTED,
1313,endif,,/* WRITE_CUSTOMIZE_ZTXT_COMPRESSION */
1325,ifdef,PNG_WRITE_USER_TRANSFORM_SUPPORTED,
1338,endif,,
1341,ifdef,PNG_INFO_IMAGE_SUPPORTED,
1362,ifdef,PNG_WRITE_INVERT_SUPPORTED,
1364,else,,
1366,endif,,
1372,ifdef,PNG_WRITE_SHIFT_SUPPORTED,
1375,else,,
1377,endif,,
1381,ifdef,PNG_WRITE_PACK_SUPPORTED,
1383,else,,
1385,endif,,
1389,ifdef,PNG_WRITE_SWAP_ALPHA_SUPPORTED,
1391,else,,
1393,endif,,
1402,ifdef,PNG_WRITE_FILLER_SUPPORTED,
1415,else,,
1417,endif,,
1422,ifdef,PNG_WRITE_BGR_SUPPORTED,
1424,else,,
1426,endif,,
1430,ifdef,PNG_WRITE_SWAP_SUPPORTED,
1432,else,,
1434,endif,,
1438,ifdef,PNG_WRITE_PACKSWAP_SUPPORTED,
1440,else,,
1442,endif,,
1446,ifdef,PNG_WRITE_INVERT_ALPHA_SUPPORTED,
1448,else,,
1450,endif,,
1462,endif,,
1465,ifdef,PNG_SIMPLIFIED_WRITE_SUPPORTED,
1546,,#   ifdef PNG_SIMPLIFIED_WRITE_AFIRST_SUPPORTED,
1555,,#     else,
1557,,#     endif,
1639,,#   define UNP_RECIPROCAL(alpha) ((((0xffff*0xff)<<7)+((alpha)>>1))/(alpha)),
1706,,#   ifdef PNG_SIMPLIFIED_WRITE_AFIRST_SUPPORTED,
1715,,#   endif,
1795,,#   if defined(PNG_FORMAT_BGR_SUPPORTED) && defined(PNG_SIMPLIFIED_WRITE_AFIRST_SUPPORTED),
1799,,#   else,
1800,,#     define afirst 0,
1801,,#   endif,
1803,,#   ifdef PNG_FORMAT_BGR_SUPPORTED,
1805,,#   else,
1806,,#     define bgr 0,
1807,,#   endif,
1912,,#   ifdef afirst,
1913,,#     undef afirst,
1914,,#   endif,
1915,,#   ifdef bgr,
1916,,#     undef bgr,
1917,,#   endif,
1945,,#   ifdef PNG_BENIGN_ERRORS_SUPPORTED,
1948,,#   endif,
2061,,#   ifdef PNG_SIMPLIFIED_WRITE_BGR_SUPPORTED,
2068,,#   endif,
2070,,#   ifdef PNG_SIMPLIFIED_WRITE_AFIRST_SUPPORTED,
2077,,#   endif,
2113,,#   ifdef PNG_WRITE_CUSTOMIZE_COMPRESSION_SUPPORTED,
2115,,#   endif,
2277,ifdef,PNG_SIMPLIFIED_WRITE_STDIO_SUPPORTED,
2393,endif,,/* SIMPLIFIED_WRITE_STDIO */
2394,endif,,/* SIMPLIFIED_WRITE */
2395,endif,,/* WRITE */
