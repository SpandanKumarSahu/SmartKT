13,define,_ISOC90_SOURCE 1,
14,define,MALLOC_CHECK_ 2,/*glibc facility: turn on debugging*/
16,include,<stddef.h>,
17,include,<stdlib.h>,
18,include,<string.h>,
19,include,<stdio.h>,
20,include,<errno.h>,
21,include,<ctype.h>,
22,include,<math.h>,
24,if,defined(HAVE_CONFIG_H) && !defined(PNG_NO_CONFIG_H),
25,,#  include <config.h>,
26,endif,,
31,ifdef,PNG_FREESTANDING_TESTS,
32,,#  include <png.h>,
33,else,,
34,,"#  include ""../../png.h""",
35,endif,,
40,if,PNG_LIBPNG_VER >= 10601 && defined(HAVE_CONFIG_H),
41,,#  define SKIP 77,
42,else,,
43,,#  define SKIP 0,
44,endif,,
46,ifdef,PNG_SIMPLIFIED_READ_SUPPORTED ,/* Else nothing can be done */
47,include,"""../tools/sRGB.h""",
56,define,ALLOW_UNUSED_GPC 0,
64,ifdef,__cplusplus,
65,,"#  define voidcast(type, value) static_cast<type>(value)",
66,,"#  define aligncastconst(type, value) static_cast<type>(static_cast<const void*>(value))",
68,else,,
69,,"#  define voidcast(type, value) (value)",
70,,"#  define aligncastconst(type, value) ((const void*)(value))",
71,endif,,/* __cplusplus */
183,if,0 ,/* not used */
196,endif,,
216,if,ALLOW_UNUSED_GPC,
222,endif,,
233,if,0 ,/* unused */
324,endif,,/* unused */
326,define,USE_FILE 1       ,/* else memory */
327,define,USE_STDIO 2      ,/* else use file name */
328,define,STRICT 4         ,/* fail on warnings too */
329,define,VERBOSE 8,
330,define,KEEP_TMPFILES 16 ,/* else delete temporary files */
331,define,KEEP_GOING 32,
332,define,ACCUMULATE 64,
333,define,FAST_WRITE 128,
334,define,sRGB_16BIT 256,
335,define,NO_RESEED  512   ,/* do not reseed on each new file */
336,define,GBG_ERROR 1024   /* do not ignore the gamma+background_rgb_to_gray,
362,if,PNG_LIBPNG_VER < 10700 ,/* else on by default */
365,endif,,
368,define,FORMAT_NO_CHANGE 0x80000000 ,/* additional flag */
373,define,FORMAT_COUNT 64,
374,define,FORMAT_MASK 0x3f,
471,define,FORMAT_SET_COUNT (FORMAT_COUNT / 32),
485,if,0 ,/* currently unused */
492,endif,,
512,if,0 ,/* currently unused */
520,endif,,
546,,#        ifdef PNG_FORMAT_BGR_SUPPORTED,
550,,#        else,
552,,#        endif,
556,,#        ifdef PNG_FORMAT_AFIRST_SUPPORTED,
559,,#        else,
561,,#        endif,
664,define,BUFFER_INIT8 73,
806,define,BASE_FORMATS (PNG_FORMAT_FLAG_ALPHA|PNG_FORMAT_FLAG_COLOR|PNG_FORMAT_FLAG_LINEAR),
830,ifdef,PNG_FORMAT_AFIRST_SUPPORTED,
839,endif,,
852,ifdef,PNG_FORMAT_BGR_SUPPORTED,
863,endif,,
876,ifdef,PNG_FORMAT_BGR_SUPPORTED,
887,endif,,
889,ifdef,PNG_FORMAT_AFIRST_SUPPORTED,
900,endif,,
902,if,defined(PNG_FORMAT_AFIRST_SUPPORTED) && defined(PNG_FORMAT_BGR_SUPPORTED),
913,endif,,
933,ifdef,PNG_FORMAT_AFIRST_SUPPORTED,
942,endif,,
955,ifdef,PNG_FORMAT_BGR_SUPPORTED,
966,endif,,
979,ifdef,PNG_FORMAT_BGR_SUPPORTED,
990,endif,,
992,ifdef,PNG_FORMAT_AFIRST_SUPPORTED,
1003,endif,,
1005,if,defined(PNG_FORMAT_AFIRST_SUPPORTED) && defined(PNG_FORMAT_BGR_SUPPORTED),
1016,endif,,
1030,,#        ifdef PNG_FORMAT_BGR_SUPPORTED,
1035,,#                 ifdef PNG_FORMAT_AFIRST_SUPPORTED,
1040,,#                 endif,
1049,,#        endif,
1053,,#              ifdef PNG_FORMAT_AFIRST_SUPPORTED,
1058,,#              endif,
1071,,#           ifdef PNG_FORMAT_AFIRST_SUPPORTED,
1076,,#           endif,
1089,,#        ifdef PNG_FORMAT_BGR_SUPPORTED,
1094,,#                 ifdef PNG_FORMAT_AFIRST_SUPPORTED,
1099,,#                 endif,
1108,,#        endif,
1112,,#              ifdef PNG_FORMAT_AFIRST_SUPPORTED,
1117,,#              endif,
1130,,#           ifdef PNG_FORMAT_AFIRST_SUPPORTED,
1135,,#           endif,
1212,if,ALLOW_UNUSED_GPC,
1229,endif,,
1231,if,ALLOW_UNUSED_GPC,
1248,endif,,
1539,if,ALLOW_UNUSED_GPC,
1576,endif,,
1578,if,ALLOW_UNUSED_GPC,
1614,endif,,
1616,if,ALLOW_UNUSED_GPC,
1633,endif,,
1635,if,ALLOW_UNUSED_GPC,
1653,endif,,
1655,if,ALLOW_UNUSED_GPC,
1671,endif,,
1929,if,ALLOW_UNUSED_GPC,
1936,endif,,
1956,if,PNG_FORMAT_FLAG_ALPHA == 1 && PNG_FORMAT_FLAG_COLOR == 2 && PNG_FORMAT_FLAG_LINEAR == 4,
2018,if,PNG_FORMAT_FLAG_COLORMAP == 8 ,/* extra check also required */
2019,,"#  include ""pngstest-errors.h"" ",/* machine generated */
2020,endif,,/* COLORMAP flag check */
2021,endif,,/* flag checks */
2280,if,0,
2313,endif,,
2549,,#     ifdef PNG_FORMAT_BGR_SUPPORTED,
2557,,#     endif,
2572,,#     ifdef PNG_FORMAT_AFIRST_SUPPORTED,
2582,,#     endif,
2748,,#        ifdef __GNUC__,
2749,,#           define BYTE_CHARS 20 ,/* 2^32: GCC sprintf warning */
2750,,#        else,
2751,,#           define BYTE_CHARS 3 ,/* 2^8: real maximum value */
2752,,#        endif,
2962,,#  ifdef PNG_STDIO_SUPPORTED,
2974,,#  else,
2980,,#  endif,
3071,ifndef,__COVERITY__,
3073,endif,,
3132,ifdef,PNG_SIMPLIFIED_WRITE_SUPPORTED,
3141,ifdef,PNG_SIMPLIFIED_WRITE_STDIO_SUPPORTED,
3142,ifndef,__COVERITY__,
3144,else,,
3175,endif,,
3204,else,,/* SIMPLIFIED_WRITE_STDIO */
3206,endif,,/* SIMPLIFIED_WRITE_STDIO */
3211,ifdef,PNG_SIMPLIFIED_WRITE_STDIO_SUPPORTED,
3231,else,,/* SIMPLIFIED_WRITE_STDIO */
3233,endif,,/* SIMPLIFIED_WRITE_STDIO */
3304,endif,,
3392,,#        ifdef PNG_SIMPLIFIED_WRITE_SUPPORTED,
3433,,#        endif ,/* PNG_SIMPLIFIED_WRITE_SUPPORTED */
3471,,#     ifndef PNG_SIMPLIFIED_WRITE_SUPPORTED,
3473,,#     endif,
3499,if,PNG_LIBPNG_VER >= 10700,
3502,endif,,
3505,if,0,
3507,endif,,
3523,,#        ifdef PNG_STDIO_SUPPORTED,
3525,,#        else,
3527,,#        endif,
3531,,#        ifdef PNG_STDIO_SUPPORTED,
3533,,#        else,
3535,,#        endif,
3821,else,,/* !PNG_SIMPLIFIED_READ_SUPPORTED */
3828,endif,,/* PNG_SIMPLIFIED_READ_SUPPORTED */
